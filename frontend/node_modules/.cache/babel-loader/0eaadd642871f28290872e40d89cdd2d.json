{"ast":null,"code":"var _jsxFileName = \"/Users/kristin/Desktop/hotel-prins-carl/frontend/src/components/GuestBook.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport GuestBookList from 'components/GuestBookList';\nimport GuestBookForm from 'components/GuestBookForm';\nimport Spinner from 'components/Spinner';\nimport { baseUrl } from '../config';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const GuestBook = () => {\n  _s();\n\n  const [happyThoughtsList, setHappyThoughtsList] = useState([]);\n  const [newThought, setNewThought] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const fetchData = () => {\n    setLoading(true);\n    fetch(`${baseUrl}/guestbook`).then(data => data.json()).then(transformedData => setHappyThoughtsList(transformedData)).catch(error => console.error(error)).finally(() => setLoading(false));\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  const onAddNewThought = event => {\n    setNewThought(event.target.value);\n  };\n\n  const handleFormCleanup = () => {\n    setNewThought('');\n    setLoading(false);\n  };\n\n  const handleFormSubmit = event => {\n    event.preventDefault();\n    const options = {\n      method: 'POST',\n      body: JSON.stringify({\n        message: newThought\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    setLoading(true);\n    fetch(`${baseUrl}/guestbook`, options).then(data => data.json()).then(() => fetchData()).catch(error => console.error(error)).finally(() => handleFormCleanup());\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(GuestBookForm, {\n      handleFormSubmit: handleFormSubmit,\n      onAddNewThought: onAddNewThought,\n      newThought: newThought\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(GuestBookList, {\n      list: happyThoughtsList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(GuestBook, \"zpkUpUoX63He/Gq+27k8AJe6FQU=\");\n\n_c = GuestBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"GuestBook\");","map":{"version":3,"names":["React","useState","useEffect","GuestBookList","GuestBookForm","Spinner","baseUrl","GuestBook","happyThoughtsList","setHappyThoughtsList","newThought","setNewThought","loading","setLoading","fetchData","fetch","then","data","json","transformedData","catch","error","console","finally","onAddNewThought","event","target","value","handleFormCleanup","handleFormSubmit","preventDefault","options","method","body","JSON","stringify","message","headers"],"sources":["/Users/kristin/Desktop/hotel-prins-carl/frontend/src/components/GuestBook.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\n\nimport GuestBookList from 'components/GuestBookList'\nimport GuestBookForm from 'components/GuestBookForm'\nimport Spinner from 'components/Spinner'\n\nimport { baseUrl } from '../config'\n\nexport const GuestBook = () => {\n  const [happyThoughtsList, setHappyThoughtsList] = useState([])\n  const [newThought, setNewThought] = useState('')\n  const [loading, setLoading] = useState(false)\n\n  const fetchData = () => {\n    setLoading(true)\n\n    fetch(`${baseUrl}/guestbook`)\n      .then((data) => data.json())\n      .then((transformedData) => setHappyThoughtsList(transformedData))\n      .catch((error) => console.error(error))\n      .finally(() => setLoading(false))\n  }\n\n  useEffect(() => {\n    fetchData()\n  }, [])\n\n  const onAddNewThought = (event) => {\n    setNewThought(event.target.value)\n  }\n\n  const handleFormCleanup = () => {\n    setNewThought('')\n    setLoading(false)\n  }\n\n  const handleFormSubmit = (event) => {\n    event.preventDefault()\n\n    const options = {\n      method: 'POST',\n      body: JSON.stringify({\n        message: newThought\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }\n    setLoading(true)\n    fetch(`${baseUrl}/guestbook`, options)\n      .then((data) => data.json())\n      .then(() => fetchData())\n      .catch((error) => console.error(error))\n      .finally(() => handleFormCleanup())\n  }\n  if (loading) {\n    return <Spinner />\n  }\n\n  return (\n    <>\n      <GuestBookForm\n        handleFormSubmit={handleFormSubmit}\n        onAddNewThought={onAddNewThought}\n        newThought={newThought} />\n      <GuestBookList list={happyThoughtsList} />\n    </>\n  )\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AAEA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,aAAP,MAA0B,0BAA1B;AACA,OAAOC,OAAP,MAAoB,oBAApB;AAEA,SAASC,OAAT,QAAwB,WAAxB;;;AAEA,OAAO,MAAMC,SAAS,GAAG,MAAM;EAAA;;EAC7B,MAAM,CAACC,iBAAD,EAAoBC,oBAApB,IAA4CR,QAAQ,CAAC,EAAD,CAA1D;EACA,MAAM,CAACS,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA5C;EACA,MAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;;EAEA,MAAMa,SAAS,GAAG,MAAM;IACtBD,UAAU,CAAC,IAAD,CAAV;IAEAE,KAAK,CAAE,GAAET,OAAQ,YAAZ,CAAL,CACGU,IADH,CACSC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADlB,EAEGF,IAFH,CAESG,eAAD,IAAqBV,oBAAoB,CAACU,eAAD,CAFjD,EAGGC,KAHH,CAGUC,KAAD,IAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAHpB,EAIGE,OAJH,CAIW,MAAMV,UAAU,CAAC,KAAD,CAJ3B;EAKD,CARD;;EAUAX,SAAS,CAAC,MAAM;IACdY,SAAS;EACV,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMU,eAAe,GAAIC,KAAD,IAAW;IACjCd,aAAa,CAACc,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;EACD,CAFD;;EAIA,MAAMC,iBAAiB,GAAG,MAAM;IAC9BjB,aAAa,CAAC,EAAD,CAAb;IACAE,UAAU,CAAC,KAAD,CAAV;EACD,CAHD;;EAKA,MAAMgB,gBAAgB,GAAIJ,KAAD,IAAW;IAClCA,KAAK,CAACK,cAAN;IAEA,MAAMC,OAAO,GAAG;MACdC,MAAM,EAAE,MADM;MAEdC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnBC,OAAO,EAAE1B;MADU,CAAf,CAFQ;MAKd2B,OAAO,EAAE;QACP,gBAAgB;MADT;IALK,CAAhB;IASAxB,UAAU,CAAC,IAAD,CAAV;IACAE,KAAK,CAAE,GAAET,OAAQ,YAAZ,EAAyByB,OAAzB,CAAL,CACGf,IADH,CACSC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADlB,EAEGF,IAFH,CAEQ,MAAMF,SAAS,EAFvB,EAGGM,KAHH,CAGUC,KAAD,IAAWC,OAAO,CAACD,KAAR,CAAcA,KAAd,CAHpB,EAIGE,OAJH,CAIW,MAAMK,iBAAiB,EAJlC;EAKD,CAlBD;;EAmBA,IAAIhB,OAAJ,EAAa;IACX,oBAAO,QAAC,OAAD;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EAED,oBACE;IAAA,wBACE,QAAC,aAAD;MACE,gBAAgB,EAAEiB,gBADpB;MAEE,eAAe,EAAEL,eAFnB;MAGE,UAAU,EAAEd;IAHd;MAAA;MAAA;MAAA;IAAA,QADF,eAKE,QAAC,aAAD;MAAe,IAAI,EAAEF;IAArB;MAAA;MAAA;MAAA;IAAA,QALF;EAAA,gBADF;AASD,CA5DM;;GAAMD,S;;KAAAA,S"},"metadata":{},"sourceType":"module"}